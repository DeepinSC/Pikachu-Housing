webpackJsonp([5],{"S+Yy":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("NYxO"),a=this,o={name:"HouseList",components:{HouseCreateModal:function(){return s.e(12).then(s.bind(null,"vH1P"))},HouseFilter:function(){return s.e(15).then(s.bind(null,"dyXl"))}},created:function(){var t=this.$route.query;this.$store.dispatch("house/getList",t)},data:function(){return{sortMethods:[{name:"Price Low to High",param:"srule=price-low-to-high"},{name:"Price High to Low",param:"srule=price-high-to-low"},{name:"Favorites High to Low",param:"srule=favorites-high-to-low"},{name:"Favorites Low to High",param:"srule=favorites-low-to-high"}]}},computed:Object(r.b)({totalNums:function(t){return t.house.list.count},houses:function(t){return t.house.list.results},currentPage:function(){var t=a.$route.query;return t.page?t.page:1}}),methods:{deleteHouse:function(t){var e=this;this.$store.dispatch("house/deleteHouseObj",t).then(function(){e.$notify({title:"Delete successfully",type:"success",message:"Your chosen house has been deleted."})})},toRoute:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.$router.push({path:t,params:e,query:s})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",[s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[s("v-flex",{attrs:{md8:"",xs12:""}},[s("el-carousel",{attrs:{type:"card"}},t._l(t.houses,function(e,r){return s("el-carousel-item",{key:r,attrs:{src:e.cover_img}},[s("v-layout",{attrs:{"justify-center":""}},[s("img",{attrs:{src:e.cover_img+e.imgs_url[0]}}),t._v(" "),s("h4",{staticClass:"white--text ml-1 carousel-title"},[t._v(t._s(e.name))])])],1)}))],1),t._v(" "),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp,expression:"$vuetify.breakpoint.mdAndUp"}],attrs:{md3:""}},[s("div",{staticClass:"mr-3",staticStyle:{position:"fixed"}},[s("v-card",{staticClass:"white--text mt-3",attrs:{color:"blue-grey darken-2"}},[s("v-card-title",{attrs:{"primary-title":""}},[s("div",{staticClass:"headline"},[t._v("Your House suggestion")])]),t._v(" "),s("v-card-text",[s("div",[t._v("Based on your information, our algorithm will suggest best houses to you. Have a try!")])]),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{flat:"",dark:""}},[t._v("Try now")])],1)],1),t._v(" "),s("v-card",{staticClass:"white--text mt-3",attrs:{color:"purple"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs7:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v("Halycon Days")]),t._v(" "),s("div",[t._v("Hot house")]),t._v(" "),s("div",[t._v("Near ECEB | 3 houses left")])])])],1),t._v(" "),s("v-flex",{attrs:{xs5:""}},[s("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/cards/halcyon.png",height:"125px",contain:""}})],1)],1),t._v(" "),s("v-divider",{attrs:{light:""}}),t._v(" "),s("v-card-actions",{staticClass:"pa-3"},[t._v("\n                View this House\n              ")])],1)],1)]),t._v(" "),s("v-flex",{attrs:{md8:""}},[s("v-layout",{attrs:{row:"","justify-space-between":""}},[s("v-flex",{attrs:{md3:""}},[s("h1",[t._v("House list")])]),t._v(" "),s("v-flex",{staticClass:"text-xs-right list-header-bar",attrs:{md5:""}},[s("HouseCreateModal"),t._v(" "),s("HouseFilter"),t._v(" "),s("el-dropdown",{attrs:{trigger:"click"}},[s("v-btn",{attrs:{flat:""}},[s("v-icon",[t._v("sort")]),t._v("Sort")],1),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.sortMethods,function(e,r){return s("div",{key:r},[s("el-dropdown-item",{on:{click:function(t){}}},[t._v(t._s(e.name))])],1)}))],1)],1)],1),t._v(" "),s("v-divider")],1),t._v(" "),s("v-flex",{attrs:{md8:""}},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.houses,function(e){return t.houses.length>0?s("v-flex",t._b({key:e.id,attrs:{xs12:"",md12:""}},"v-flex",((r={})["xs"+e.flex]=!0,r),!1),[s("v-hover",{scopedSlots:t._u([{key:"default",fn:function(r){var a=r.hover;return s("v-card",{staticClass:"mt-3",class:"elevation-"+(a?6:2)},[s("v-layout",{attrs:{row:""}},[s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp,expression:"$vuetify.breakpoint.mdAndUp"}],attrs:{md3:""}},[s("v-card",{attrs:{to:"/house/"+e.id}},[s("v-img",{attrs:{src:e.cover_img+e.imgs_url[0]},on:{click:function(s){s.stopPropagation(),t.$router.push(e.id)}}})],1)],1),t._v(" "),s("v-flex",{attrs:{md9:"",xs12:""}},[s("v-card-title",{staticClass:"pb-2"},[s("div",{staticClass:"headline"},[t._v(t._s(e.name))]),t._v(" "),s("br")]),t._v(" "),s("v-card-text",{staticClass:"pt-2"},[s("span",{staticClass:"grey--text"},[t._v("Location: "+t._s(e.location))]),s("br"),t._v(" "),s("span",[t._v("Price: $"+t._s(e.price))]),s("br"),t._v(" "),s("span",{staticClass:"grey--text"},[t._v(t._s(e.description.slice(0,200))+"...")])]),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{flat:"",color:"green",to:"/house/"+e.id}},[s("v-icon",[t._v("details")]),t._v("Detail")],1),t._v(" "),s("v-btn",{attrs:{flat:"",color:"orange"}},[s("v-icon",[t._v("share")]),t._v("Share")],1),t._v(" "),s("el-popover",{attrs:{trigger:"click",placement:"top"},model:{value:e.popover,callback:function(s){t.$set(e,"popover",s)},expression:"item.popover"}},[s("p",[t._v("Do you want to delete the house? (This operation is irrevocable)")]),t._v(" "),s("div",{staticStyle:{"text-align":"right",margin:"0"}},[s("v-btn",{attrs:{flat:"",color:"green"},on:{click:function(t){e.popover=!1}}},[t._v("Cancel")]),t._v(" "),s("v-btn",{attrs:{flat:"",color:"red"},on:{click:function(s){t.deleteHouse(e.id)}}},[t._v("Delete")])],1),t._v(" "),s("v-btn",{attrs:{slot:"reference",flat:"",color:"red"},slot:"reference"},[s("v-icon",[t._v("close")]),t._v("Delete")],1)],1)],1)],1)],1)],1)}}])})],1):s("v-flex",{attrs:{xs12:"",md12:""}},[s("v-layout",{attrs:{"justify-align-center":"","justify-center":""}},[s("h1",{staticClass:"display-2 mt-5"},[t._v("No house found "),s("v-icon",{staticStyle:{"font-size":"60px"}},[t._v("sentiment_very_dissatisfied")])],1)])],1);var r}))],1)],1),t._v(" "),s("v-flex",{staticClass:"mt-3",attrs:{md12:""}},[s("div",{staticClass:"text-xs-center"},[s("el-pagination",{attrs:{layout:"prev, pager, next",total:t.totalNums,currentPage:this.$route.query.page?this.$route.query.page:1},on:{"current-change":function(e){return t.toRoute("house",{},{page:e})},"next-click":function(e){return t.toRoute("house",{},{page:e})},"prev-click":function(e){return t.toRoute("house",{},{page:e})}}})],1)])],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(o,i,!1,function(t){s("pHQP")},"data-v-257121ae",null);e.default=n.exports},pHQP:function(t,e){}});
//# sourceMappingURL=5.811f318bddf53d6a3666.js.map